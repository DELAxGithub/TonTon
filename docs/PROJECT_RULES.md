# TonTon プロジェクトルール

## 最終更新
- 日時: 2024-04-29
- 更新者: Claude
- ステータス: Active

## 1. プロジェクト基本方針

### 1.1 目的
このルールは、効率的でスムーズな開発プロセスを維持し、手戻りを最小限に抑え、プロジェクトの健全性を保つことを目的とします。

### 1.2 プロジェクト範囲
- すべてのプロジェクトファイルは `_active/apps/TonTon` 配下に配置
- 外部ディレクトリへの依存は **禁止**
- プロジェクトに関連するドキュメント類も必ず `_active/apps/TonTon/docs` 配下に配置

### 1.3 ディレクトリ構成
```
TonTon/
├── src/                    # ソースコード
│   ├── components/         # 再利用可能なUIコンポーネント
│   ├── screens/           # 画面コンポーネント
│   ├── navigation/        # ナビゲーション設定
│   ├── services/          # APIやデータサービス
│   ├── storage/           # ローカルストレージ管理
│   ├── utils/             # ユーティリティ関数
│   ├── hooks/             # カスタムフック
│   ├── types/             # 型定義
│   ├── assets/           # 画像やフォントなどのアセット
│   └── tests/            # テストファイル
├── docs/                  # ドキュメント
│   ├── implementation/    # 実装詳細ドキュメント
│   ├── progress/         # 進捗管理
│   ├── specs/            # 仕様書
│   ├── development/      # 開発ガイド
│   └── archived/         # アーカイブ済みドキュメント
├── ios/                  # iOSネイティブコード
├── android/              # Androidネイティブコード
├── scripts/              # ビルド・開発スクリプト
└── __tests__/           # プロジェクトレベルのテスト
```

## 2. 開発プロセス

### 2.1 開発環境とツール
- 基本的な開発はMetroサーバーを使用
- ネイティブ機能開発時はXcodeも併用
- 適切なデバッグツールの活用

### 2.2 着手前の確認事項
- 目的・仕様・影響範囲の理解
- 不明点の明確化
- 処理フローの図示化（必要に応じて）

### 2.3 バージョン管理 (Git)
- 作業前の最新状態確認 (git pull)
- 意味のある単位でのコミット
- 具体的なコミットメッセージ

### 2.4 段階的な実装と確認
- 機能を小さな単位に分割
- 各ステップでの動作確認
- 早期のバグ発見

## 3. 品質管理

### 3.1 コードレビュー
- 自己レビューの徹底
- コーディング規約の遵守
- パフォーマンスの考慮

### 3.2 テスト
- ユニットテストの作成
- 実機での動作確認
- エッジケースの考慮

### 3.3 ドキュメント
- コードコメントの充実
- README.mdの更新
- 仕様変更の記録

## 4. AI モデルの使用について

### 4.1 GPT-4o の採用
TonTonプロジェクトでは、一貫して **GPT-4o** のみを使用します。

#### 採用理由
1. マルチモーダル対応
   - GPT-4o は画像とテキストの両方を公式にサポート
   - Vision専用モデル（gpt-4-vision-preview）は不要

2. コストとパフォーマンス
   - GPT-4o の方が低コスト
   - レスポンス速度が向上
   - 精度は同等以上

3. 戦略的な決定
   - コスト最適化
   - パフォーマンス最適化
   - メンテナンス性の向上
   - 開発効率の向上

### 4.2 重要な注意事項
- gpt-4-vision-preview へのロールバックは **禁止**
- Vision専用APIの新規導入は **不可**
- すべての設計・実装・テストは GPT-4o 基準で行う

## 5. 変更管理

### 5.1 仕様変更
- 変更内容の明確化
- 影響範囲の調査
- チーム内での合意形成

### 5.2 設計変更
- 変更理由の明確化
- 代替案の検討
- 移行計画の立案

### 5.3 ルール変更
- 変更提案の作成
- メリット・デメリットの検討
- チーム内での合意形成

## 関連ドキュメント
- [開発フロー](./development/flow.md)
- [実装ガイドライン](./development/guidelines/implementation.md)
- [ドキュメント管理ルール](./DOCUMENTATION_RULES.md) 