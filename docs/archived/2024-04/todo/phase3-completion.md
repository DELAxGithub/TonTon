# TonTon Phase3 完成までのTODO

## 1. データモデル整理 [優先度: 高]
- [ ] records.tsの簡素化（手入力ベース）
  - [ ] MealRecordの型定義見直し
  - [ ] WorkoutRecordの型定義見直し
  - [ ] BodyRecordの型定義見直し
  - [ ] DailySummaryの型定義見直し
- [ ] 依存関係のある実装の修正
  - [ ] Storage関連の実装調整
  - [ ] UI Components の型定義調整

## 2. 基本機能実装 [優先度: 高]
### 2.1 食事記録
- [ ] 手動入力フォーム実装
  - [ ] 基本情報（日付、食事タイプ、説明）
  - [ ] カロリー・栄養素情報
- [ ] 写真アップロード機能
- [ ] OpenAI Vision APIによる食事分析
  - [ ] プロンプト最適化
  - [ ] レスポンスパース処理

### 2.2 運動記録
- [ ] 手動入力フォーム実装
  - [ ] 基本情報（日付、運動タイプ）
  - [ ] 消費カロリー入力
  - [ ] 運動時間入力

### 2.3 体重・体組成記録
- [ ] 手動入力フォーム実装
  - [ ] 体重入力
  - [ ] 体脂肪率入力（オプション）

## 3. データ集計・分析機能 [優先度: 中]
- [ ] 日次サマリー生成ロジック
  - [ ] カロリー収支計算
  - [ ] 栄養素集計
- [ ] OpenAIによるアドバイス生成
  - [ ] プロンプト設計
  - [ ] アドバイス生成ロジック実装
  - [ ] エラーハンドリング

## 4. UI/UX実装 [優先度: 中]
- [ ] ホーム画面
  - [ ] 日次サマリー表示
  - [ ] アドバイスカード実装
  - [ ] 手動更新機能
- [ ] 入力フォーム画面
  - [ ] バリデーション
  - [ ] エラー表示
  - [ ] ローディング表示
- [ ] 分析結果表示
  - [ ] カロリー収支の視覚化
  - [ ] AIアドバイスの表示

## 5. エラーハンドリング [優先度: 中]
- [ ] OpenAI API
  - [ ] レート制限対応
  - [ ] エラーメッセージ定義
  - [ ] リトライロジック
- [ ] データ整合性
  - [ ] バリデーションルール
  - [ ] エラー時のフォールバック

## 6. パフォーマンス最適化 [優先度: 低]
- [ ] OpenAI APIコール最適化
  - [ ] キャッシュ戦略
  - [ ] バッチ処理
- [ ] ストレージ最適化
  - [ ] インデックス設計
  - [ ] クエリ最適化

## 7. テスト・QA [優先度: 高]
- [ ] ユニットテスト
  - [ ] カロリー計算
  - [ ] データ変換
- [ ] 結合テスト
  - [ ] API連携
  - [ ] データフロー
- [ ] E2Eテスト
  - [ ] 主要ユースケース
  - [ ] エラーケース

## 8. ドキュメント整備 [優先度: 中]
- [ ] API仕様書
- [ ] データモデル図
- [ ] 画面遷移図
- [ ] 運用マニュアル

## 9. リリース準備 [優先度: 低]
- [ ] TestFlight設定
- [ ] アプリアイコン
- [ ] スクリーンショット
- [ ] リリースノート

## 注意事項
- 各タスクは優先度に従って実施
- 手入力ベースの実装を優先
- エラーハンドリングは各機能実装時に考慮
- UIの視覚的な改善は最後に実施

---
作成日時: 2024-04-29
最終更新: 2024-04-29 