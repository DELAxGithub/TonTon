# AddMealScreen 写真入力対応 チェックリスト

## 🖼 1. 写真取得系

| 項目 | 確認内容 | OK |
|:---|:---|:---|
| 📷 写真を撮るボタンがあるか | UIに「写真を撮る」ボタンが表示されているか | |
| 🖼 ライブラリから選ぶボタンがあるか | UIに「ライブラリから選択」ボタンが表示されているか | |
| 📷 写真撮影できるか | カメラ起動→撮影できるか | |
| 🖼 ライブラリから選択できるか | フォトライブラリが開いて選択できるか | |

## 🔄 2. Base64エンコード系

| 項目 | 確認内容 | OK |
|:---|:---|:---|
| 🔄 撮影/選択後にBase64に変換されるか | 取得した画像がBase64形式に変換できているか | |
| 🚫 エラー時にトースト表示されるか | カメラ起動失敗/写真選択失敗時にエラー通知が出るか | |

## 🤖 3. OpenAI呼び出し系

| 項目 | 確認内容 | OK |
|:---|:---|:---|
| 🤖 generateAdviceWithImageが呼び出されるか | Base64画像＋MealType＋DailySummaryを渡しているか | |
| 🤖 推定カロリー・PFC値が返ってきているか | APIレスポンスに推定値が含まれているか | |
| 🚫 失敗時にエラートーストが出るか | OpenAI呼び出し失敗時も落ちないか | |

## ✍️ 4. フォーム反映系

| 項目 | 確認内容 | OK |
|:---|:---|:---|
| ✍️ 推定カロリーが自動で入力されるか | フォームに推定カロリーがセットされるか | |
| ✍️ 推定タンパク質・脂質・炭水化物が入力されるか | PFC値もフォームにセットされるか | |
| ✍️ ユーザーが数値を手動編集できるか | 推定値のあとでも編集できるか | |

## 📋 5. UX/安全系

| 項目 | 確認内容 | OK |
|:---|:---|:---|
| 💬 ローディング中にUIがブロックされるか | 2重クリック防止できているか | |
| 📋 保存ボタンが使えるか | 推定後、保存できるか | |
| 🚫 異常系も自然にリカバリできるか | API失敗、通信エラー時にアプリが固まらないか | |

## 📋 まとめチェック項目

✅ 写真入力が一通り動く  
✅ 推定値が自動でフォームにセットされる  
✅ 失敗しても落ちない or トースト通知される  
✅ 最後に「保存」できる

## ✨ 完了条件

- このチェックリストの全項目が「OK」になっていること
- AddMealScreenの写真入力＋OpenAI連携が完了していること
- TonTonフェーズ3の機能要件が満たされていること

## 📝 次のステップ

チェックリストの全項目が「OK」になったら：
1. コードレビューを実施
2. 「DailySummary自動更新対応（残りタスク整理版）」へ移行 