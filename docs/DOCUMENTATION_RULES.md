# TonTon ドキュメント管理ルール

## 1. ドキュメントの階層構造

### 1.1 マスタードキュメント（常に最新・単一の真実源）
- `README.md`: プロジェクト概要、セットアップ手順
- `SPEC.md`: 現行版の仕様書（最新のフェーズを含む）
- `PROJECT_RULES.md`: プロジェクト全体のルール

### 1.2 フェーズ別ドキュメント（履歴として保持）
- `specs/`: 各フェーズの詳細仕様
  - 命名規則: `SPEC-{NNN}: {フェーズ名}.md`
  - 確定した仕様は変更不可
  - 変更が必要な場合は新規フェーズとして作成

### 1.3 開発者向けドキュメント
- `development/`: 開発関連ドキュメント
  - `structure.md`: ソースコード構造
  - `flow.md`: 開発フロー
  - `guidelines/`: コーディングガイドライン等

### 1.4 実装ドキュメント
- `implementation/`: 実装詳細
  - 機能単位でディレクトリを作成
  - 命名規則: `{機能名}/{詳細}.md`

### 1.5 進捗管理
- `progress.md`: 全体の進捗状況
- `todo/`: 詳細なTODOリスト
  - フェーズ別にファイル作成

## 2. 更新ルール

### 2.1 マスタードキュメント
- 常に最新状態を維持
- 変更はPRでレビュー必須
- 更新履歴を記録

### 2.2 フェーズドキュメント
- 一度確定したら原則変更禁止
- 軽微な修正のみ許可（タイプミス等）
- 大きな変更は新規フェーズとして作成

### 2.3 開発ドキュメント
- 随時更新可能
- 重要な変更はPRでレビュー
- 変更履歴を記録

## 3. レビュープロセス

### 3.1 必須レビュー対象
- マスタードキュメントの更新
- 新規フェーズ仕様書の作成
- プロジェクトルールの変更

### 3.2 任意レビュー対象
- 実装ドキュメントの更新
- TODO リストの更新
- 開発者向けドキュメントの軽微な更新

## 4. アーカイブルール

### 4.1 アーカイブ対象
- 完了したフェーズの作業ドキュメント
- 古くなった実装ドキュメント
- 完了したTODOリスト

### 4.2 アーカイブ方法
- `archived/` ディレクトリに移動
- 年月でディレクトリを分類
- README.mdにアーカイブ理由を記載

## 5. ドキュメントフォーマット

### 5.1 必須要素
- タイトル
- 最終更新日
- 作成者/更新者
- 変更履歴（重要な変更の場合）

### 5.2 推奨要素
- 目次（長文の場合）
- 関連ドキュメントへのリンク
- ステータス（Draft/Review/Approved等）

## 6. 調査結果の管理

### 6.1 調査ドキュメントの配置
- `implementation/features/research/` に調査結果を保存
- 命名規則: `{機能名}-{調査内容}-survey.md`
- 調査日時と担当者を必ず記録

### 6.2 調査結果の索引化
- `implementation/INDEX.md` で調査状況を管理
- 調査完了日、ドキュメントへのリンク、ステータスを記録
- 定期的な更新確認（月1回）を実施

### 6.3 相互参照の必須化
- 実装ドキュメントから調査結果への参照を必須
- 調査結果の再利用を促進
- 重複調査の防止

### 6.4 調査テンプレート
```markdown
# {機能名} 調査レポート

## 基本情報
- 調査日時: YYYY-MM-DD
- 調査者: 名前
- ステータス: [Active/Archived]

## 調査内容
- 目的
- 対象範囲
- 主要な発見

## 実装状況
- 確認済みコード
- 未実装部分
- 課題点

## 参考資料
- 関連PR
- 参照コード
- 外部リソース
``` 